[ {
    "name": "patient-register-report",
    "table":{"schema":"etl","tableName":"flat_hiv_summary","alias":"t1"},
    "joins":[
        {"joinType":"INNER JOIN","schema":"amrs","tableName":"location","alias":"t2","joinExpression":"t1.location_uuid = t2.uuid"}
    ],
    "parameters": [
        {"name":"startDate", "defaultValue":["10-10-2015"]},
        {"name":"endDate", "defaultValue":["defaultValue"]},
        {"name":"locations","defaultValue":[]},
        {"name":"groupByLocation", "defaultValue":[
            {"label":"location","expression":"location"}
        ]
        },
        {"name":"groupByMonth", "defaultValue":[
            {"label":"encounter_datetime","expression":"MONTH(encounter_datetime)"}
        ]
        }
    ],
    "filters": [
        {"expression":"t1.encounter_datetime >= ?", "parameter":"startDate"},
        {"expression":"t1.encounter_datetime <= ?", "parameter":"endDate"},
        {"expression":"t1.location_id in ?", "parameter":"location"}
    ],
    "groupClause":[
        {"parameter":"groupByLocation"},
        {"parameter":"groupByMonth"}
    ],
    "indicators": [
        {
            "label":"encounters",
            "expression":"encounters",
            "sql":"if($expression)"
        },
        {
            "label":"patients",
            "expression":"patients",
            "sql":"if($expression)"
        },
        {
            "label":"on_arvs",
            "expression":"on_arvs",
            "sql":"if($expression)"

        },
        {
            "label":"on_arvs_first_line",
            "expression":"on_arvs_first_line",
            "sql":"if($expression)"
        },
        {
            "label":"on_arvs_second_line",
            "expression":"on_arvs_second_line",
            "sql":"if($expression)"
        },
        {
            "label":"on_arvs_third_line",
            "expression":"on_arvs_third_line",
            "sql":"if($expression)"
        },
        {
            "label":"vl_done_past_year",
            "expression":"vl_done_past_year",
            "sql":"if($expression)"
        },
        {
            "label":"no_vl_done_past_year",
            "expression":"no_vl_done_past_year",
            "sql":"if($expression)"
        },
        {
            "label":"vl_done_past_year_lte_1000",
            "expression":"vl_done_past_year_lte_1000",
            "sql":"if($expression)"
        },
        {
            "label":"vl_done_past_year_gt_1000",
            "expression":"vl_done_past_year_gt_1000",
            "sql":"if($expression)"
        },
        {
            "label":"vl_done_this_encounter",
            "expression":"vl_done_this_encounter",
            "sql":"if($expression)"
        },
        {
            "label":"vl_done_this_encounter_lte_1000",
            "expression":"vl_done_this_encounter_lte_1000",
            "sql":"if($expression)"
        },
        {
            "label":"vl_done_this_encounter_gt_1000",
            "expression":"vl_done_this_encounter_gt_1000",
            "sql":"if($expression)"
        },
        {
            "label":"vl_ordered",
            "expression":"vl_ordered",
            "sql":"if($expression)"
        },
        {
            "label":"pending_vl_order",
            "expression":"pending_vl_order",
            "sql":"if($expression)"
        },
        {
            "label":"pending_vl_order_no_result_after_4_weeks",
            "expression":"pending_vl_order_no_result_after_4_weeks",
            "sql":"if($expression)"
        },
        {
            "label":"on_arvs_lte_26_weeks",
            "expression":"on_arvs_lte_26_weeks",
            "sql":"if($expression)"
        },
        {
            "label":"on_arvs_lte_52_weeks",
            "expression":"on_arvs_lte_52_weeks",
            "sql":"if($expression)"
        },
        {
            "label":"on_arvs_lte_52_weeks_and_have_vl",
            "expression":"on_arvs_lte_52_weeks_and_have_vl",
            "sql":"if($expression)"
        },
        {
            "label":"on_arvs_lte_52_weeks_and_have_vl_lte_1000",
            "expression":"on_arvs_lte_52_weeks_and_have_vl_lte_1000",
            "sql":"if($expression)"
        },
        {
            "label":"pregnant",
            "expression":"pregnant",
            "sql":"if($expression)"
        },
        {
            "label":"pregnant_and_on_arvs",
            "expression":"pregnant_and_on_arvs",
            "sql":"if($expression)"
        }
    ]
}
]
